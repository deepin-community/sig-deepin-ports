---
title: A733 通用镜像 安装指南
date: 2025-11-11
---

## 支持设备

- Radxa A7A
- Radxa A7Z

## 下载并解压镜像

在[镜像列表](https://deepin-community.github.io/sig-deepin-ports/images/arm64)中下载最新的 `.tar.xz` 格式的镜像包至本地，随后使用以下命令解压镜像与校验码至当前文件夹：

``` shell
tar -xvf <你下载的镜像名称>.tar.xz
```

解压得到

- `deepin-a733-riscv64-25-desktop-installer.sha256sum`
  sha256 校验和
- `deepin-a733-riscv64-25-desktop-installer.md5sum`
  md5 校验和
- `deepin-a733-riscv64-25-desktop-installer.root.ext4`
  系统根目录分区镜像

校验镜像：

``` shell
$ cat deepin-a733-riscv64-25-desktop-installer.sha256sum
[hash sum]  deepin-a733-riscv64-25-desktop-installer.root.ext4

$ sha256sum deepin-a733-riscv64-25-desktop-installer.root.ext4
[hash sum]  deepin-a733-riscv64-25-desktop-installer.root.ext4
```

## 写入操作系统

### 创建分区表

> 由于 Allwinner 系列的 bootloader 会未经分区直接写入到存储介质，有破坏分区表的风险，因此建议先写入操作系统，再写入 bootloader。

使用分区工具创建一个空白的 gpt 分区表，并新增一个空白分区，分区起点建议设置在 65536 （防止与 bootloader 冲突），占满全部剩余空间，不需要格式化。

分区结果示例如下：

```
Disk /dev/sda：29.72 GiB，31914983424 字节，62333952 个扇区
磁盘型号：STORAGE DEVICE  
单元：扇区 / 1 * 512 = 512 字节
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：gpt
磁盘标识符：FC9756C3-2378-480D-B7F2-7586CF45770F

设备        起点     末尾     扇区  大小 类型
/dev/sda1  65536 62333911 62268376 29.7G Linux 文件系统
```

### 写入镜像文件

使用 `dd` 命令将镜像写入第一个（唯一一个）分区：

``` shell
sudo dd if=deepin-a733-riscv64-25-desktop-installer.root.ext4 of=/dev/sda1 status=progress bs=4M
```

## 刷写 bootloader

### 准备 bootloader 文件

前往[deepin-ports-kernel](https://github.com/deepin-community/deepin-ports-kernel/actions)，进入最新的 `build all` 项，在 Artifacts 中选择 `a733-radxa` 下载并解压。

它的目录结构如图所示：

```
.
├── radxa-cubie-a7X
│   ├── boot0_sdcard.bin   # boot0 文件（SD 卡安装适用）
│   ├── boot0_spinor.bin   # boot0 文件（SPI NOR 安装适用）
│   ├── boot0_ufs.bin      # boot0 文件（UFS 安装适用）
│   ├── boot_package.fex   # 打包的 u-boot 文件
│   ├── setup.sh           # radxa 提供的刷写脚本
│   └── sys_partition_nor.bin # SPI NOR 分区表
└── ...   # 可能有若干目录，每个目录对应一种设备
```

### 写入 bootloader 到 SD 卡

> 这将向存储设备的头部写入数据，建议先分区再执行该操作。

在 u-boot 目录执行以下命令：

```
./setup.sh update_bootloader /dev/sdX
```

### 写入 bootloader 到 SPI NOR 设备

> 此种写入方式需要先引导启动到可用的系统。

进入系统后，在 u-boot 目录执行以下命令：

```
./setup.sh update_spinor
```

## 注意事项

- 镜像启动时间可能较长，如需查看串口，请参见对应设备的[测试报告](https://deepin-community.github.io/sig-deepin-ports/docs)。
