---
title: Sophgo SG2042 安装指南
date: 2025-09-03
---

## 支持设备

- SG2042 EVB
- MilkV Pioneer

## 下载并解压镜像

在[镜像列表](https://deepin-community.github.io/sig-deepin-ports/images/riscv64)中下载最新的 `.tar.xz` 格式的镜像包至本地，随后使用以下命令解压镜像与校验码至当前文件夹：

``` shell
tar -xvf <你下载的镜像名称>.tar.xz
```

解压得到

- `deepin-sg2042-riscv64-25-desktop-installer.sha256sum`
  sha256 校验和
- `deepin-sg2042-riscv64-25-desktop-installer.md5sum`
  md5 校验和
- `deepin-sg2042-riscv64-25-desktop-installer.root.ext4`
  root 镜像

校验镜像：

``` shell
# 两者一致即可
$ cat deepin-sg2042-riscv64-25-desktop-installer.sha256sum
c2653489c88fc40a620f82aab6ee6280edd6622f5ee01e88f0e83242a1e98fc7  deepin-sg2042-riscv64-25-desktop-installer.root.ext4
$ sha256sum deepin-sg2042-riscv64-25-desktop-installer.img
c2653489c88fc40a620f82aab6ee6280edd6622f5ee01e88f0e83242a1e98fc7  deepin-sg2042-riscv64-25-desktop-installer.root.ext4
```

## 刷写操作系统至 NVMe 硬盘

使用分区工具创建一个空白的 gpt 分区表，新增一个分区，此处例子中 NVMe 对应分区名为`/dev/sda1`。使用 `dd` 命令将镜像刷入对应分区。

``` shell
sudo dd if=deepin-sg2042-riscv64-25-desktop-installer.img of=/dev/sda1 status=progress
```

## 刷写 bootloader

前往[revyos 镜像](https://fast-mirror.isrc.ac.cn/revyos/extra/images/sg2042)，进入最新的目录，下载以 `.bin` 结尾的形如 `firmware_sg2042-single-sg2042-upstream-v6.16.y.bin` 的 bootloader 分区文件。

### 刷写 bootloader 至 SD 卡

使用分区工具创建一个空白的 DOS 分区表，新增一个主分区，此处例子中 SD 卡对应分区名为`/dev/sda1`。使用 `dd` 命令将 bootloader 刷入对应分区。

``` shell
sudo dd if=firmware_sg2042-single-sg2042-upstream-v6.16.y.bin of=/dev/sda1 status=progress
```

### 刷写 bootloader 至 mtd

> 注意：如果需要刷写 bootloader 至 mtd，需要先进入系统，如果不能进入系统，请先刷写 bootloader 到 SD 卡。

进入系统后，确认存在 `/dev/mtd{0,1}` 分区，然后使用以下命令将 bootloader 刷入 MTD 对应分区即可：

``` shell
sudo flashcp -v firmware_sg2042-single-sg2042-upstream-v6.16.y.bin /dev/mtd1
```

如果 `mtd0` 分区已存在配置文件，需要使用以下命令将其清除：

``` shell
sudo flash_erase /dev/mtd0 0 0
```

## 启动

将 NVMe 硬盘安装至设备，如需使用 SD 卡启动，将 SD 卡插入主板对应的 SD 卡槽，连接好 HDMI 视频输出，通电，等待设备启动至安装器界面，完成安装即可

## 注意事项

- 镜像启动时间可能较长，如需查看串口，请参见对应设备的[测试报告](https://deepin-community.github.io/sig-deepin-ports/docs)。
